#root .flip {
  position: relative;
  --duration: 0.6s;
  --easing: cubic-bezier(0.6, 0, 0.2, 1);
}

#root .flip > ::before {
  content: '';
  display: block;
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border-radius: inherit;
  background: inherit;
  box-shadow: inherit;
}

#root .flip > *,
#root .flip > ::before {
  transition: transform var(--duration) var(--easing);
  transform-origin: top left;
}

#root .flip[data-flipping] > * {
  transition: none;
  transform: translate(calc(var(--dx) * -1px), calc(var(--dy) * -1px));
}

#root .flip[data-flipping] > ::before {
  transition: none;
  border-radius: calc((var(--dw)) * 1rem) / calc((var(--dh)) * 1rem);

  transform: scale(calc(1 / var(--dw)), calc(1 / var(--dh)));
}
